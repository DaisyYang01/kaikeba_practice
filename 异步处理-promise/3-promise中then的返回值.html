<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

        /*
            1、promise 有两个参数
                resolve - 成功的回调
                reject - 失败的回调

            2、promise 有三种状态
                -pending 等待
                -resolve 成功
                -reject 失败
        */

        /*
            then 的返回值分三种情况：
                1、没有返回值 - 默认返回一个 promise 为 resolve 的实例
                2、有返回值，但是他的返回值不是 promise，那么他会变成一个 promise 为 resolve 的实例，并将返回值传给下一个 then
                3、返回一个自定义的 promise 实例，它会根据你最终的状态决定走哪个函数
        */

        let p = new Promise((resolve,reject) =>{
            resolve('success')
            // reject('fail')
        })

        p.then((info) => {
            console.log(info)
            // return 'www'
            return new Promise((resolve, reject) => {
                // resolve('success-2')
                reject('fail-2')
            })
        }, (error) => {
            console.log('fail')
        }).then((info2) =>{
            // console.log('success2')
            console.log(info2)
        }, (error2) => {
            // console.log('fail2')
            console.log(error2)
        }).then((info3) =>{
            console.log('success3')
            // console.log(info2)
        }, (error3) => {
            // console.log('fail2')
            console.log(error3)
        })
    </script>
</body>
</html>